# For more details on how to configure Wrangler, refer to:
# https://developers.cloudflare.com/workers/wrangler/configuration/

name = "itxeasy"
main = "api/index.js"
compatibility_flags = ["nodejs_compat"]
compatibility_date = "2025-04-01"

[observability]
enabled = true

[assets]
binding = "ASSETS"
not_found_handling = "single-page-application"
directory = "./dist/client"

[[d1_databases]]
binding = "DB"
database_name = "react-fullstack-db"
database_id = "15c19695-b012-40df-a7dd-f0f51d7373dd"

# R2 Bucket để lưu ảnh
[[r2_buckets]]
binding = "IMAGES"
bucket_name = "react-fullstack-images"

[images]
binding = "IMGPROC"

[placement]
mode = "smart"

[ai]
binding = "AI"

[vars]
JWT_SECRET = "kOIu0O//qZ7JP++tc7GSBBUmvdw+Fcm7sx/D533H0JQ="
JWT_EXPIRES_IN = "900" 
RESEND_API_KEY = "re_GUzwZDkn_DqQBJrw3BvH6t5AxDdYBm1sh"
FROM_EMAIL     = "no-reply@itxeasy.com"
CONTACT_TO     = "info@itxeasy.com"
BRAND_NAME     = "ITXEASY"
EMAIL_PROVIDER = "resend"
CANONICAL_HOST = "itxeasy.dev.com"
GA4_PROPERTY_ID = "401273146"
# auto watermark mặc định (1=bật, 0=tắt)
AUTO_WATERMARK = "1"
# key logo trong R2
LOGO_KEY = "itxeasy-logo.png"
# cấu hình mặc định
WM_POS = "tr"          # tl|tr|bl|br
WM_LOGO_WIDTH = "180"  # px
WM_OPACITY = "0.95"    # 0..1

upload_source_maps = true

